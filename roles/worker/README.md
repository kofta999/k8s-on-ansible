# Ansible Role: Kubernetes Worker

This role handles the tasks required to join a worker node to an existing Kubernetes cluster.

## Tasks

- Configures the firewall (`firewalld`) to open ports required for a worker node (kubelet, NodePort services).
- Joins the node to the cluster using the `kubeadm join` command generated by the `master` role.
- Applies the `node-role.kubernetes.io/worker=worker` label to the node.

## Requirements

- This role must be run on a node that has already had the `common` role applied to it.
- The `master` role must have been run successfully on a master node first.
- A RHEL-based distribution (e.g., CentOS, Rocky Linux).

## Role Variables

Variables used by this role, with their default values from `defaults/main.yml`:

| Variable          | Default Value             | Description                                            |
| ----------------- | ------------------------- | ------------------------------------------------------ |
| `worker_fw_ports` | (see `defaults/main.yml`) | A list of ports to open on the worker node's firewall. |

## Dependencies

None.

## Example Playbook

```yaml
- hosts: workers
  roles:
    - role: worker
```
